import{d as y,r as u,o as w,b as i,e as l,f as _,g as V,t as m,h as g,w as b,v as f,a as r,_ as h}from"./index-BlbXFXPC.js";import{g as x,f as T,_ as $,l as L}from"./twitch-CXO-zfrH.js";const B={key:0},C={key:1},N={key:0},R=y({__name:"LoginView",setup(S){const a=u(null),t=u(null),o=u(""),s=u(""),d=u("");w(async()=>{const n=new URLSearchParams(location.search);a.value=n.get("token")||x(),a.value&&(t.value=await T(a.value)),o.value=n.get("user")||(t==null?void 0:t.value.display_name)||"",s.value=n.get("channel")||(t==null?void 0:t.value.login)||""});function U(){L()}function k(){const n=`https://test-twitch-npc-dialog-displayer.lindebot.com/display?token=${a.value}&user=${o.value}&channel=${s.value}`;navigator.clipboard.writeText(n),d.value=n}return(n,e)=>{var p,c;return r(),i("div",null,[a.value?(r(),i("div",C,[l("p",null,"👤 "+m((p=t.value)==null?void 0:p.display_name)+" 已登入",1),l("label",null,[e[2]||(e[2]=g(" 🎯 觀察對象帳號 (user id)：")),e[3]||(e[3]=l("br",null,null,-1)),b(l("input",{"onUpdate:modelValue":e[0]||(e[0]=v=>o.value=v),placeholder:"想追蹤的 user name"},null,512),[[f,o.value]])]),e[6]||(e[6]=l("br",null,null,-1)),l("label",null,[e[4]||(e[4]=g(" 🛰️ 頻道名稱：")),e[5]||(e[5]=l("br",null,null,-1)),b(l("input",{"onUpdate:modelValue":e[1]||(e[1]=v=>s.value=v),placeholder:"頻道名 (預設自己)"},null,512),[[f,s.value]])]),l("button",{onClick:k},"📋 複製 OBS URL"),d.value?(r(),i("p",N,"✅ URL："+m(d.value),1)):_("",!0),V($,{targetUser:o.value,channel:s.value||((c=t.value)==null?void 0:c.login)},null,8,["targetUser","channel"])])):(r(),i("div",B,[l("button",{onClick:U},"使用 Twitch 登入")]))])}}}),q=h(R,[["__scopeId","data-v-3e1dbb3b"]]);export{q as default};
