import{d as _,r as u,o as w,b as r,e as l,f as V,g as x,t as f,h as m,w as k,v as U,a as i}from"./index-Cj-PAC3L.js";import{g as T,f as h,_ as L,l as $}from"./twitch-DbLwIMvz.js";const B={key:0},C={key:1},N={key:0},I=_({__name:"LoginView",setup(v){const n=u(null),s=u(null),t=u(""),o=u(""),d=u("");w(async()=>{const a=new URLSearchParams(location.search);n.value=a.get("token")||T(),t.value=a.get("user")||"",o.value=a.get("channel")||"",n.value&&(s.value=await h(n.value))});function b(){$()}function y(){const a=`${location.origin}/display?token=${n.value}&user=${t.value}&channel=${o.value}`;navigator.clipboard.writeText(a),d.value=a}return(a,e)=>{var p,g;return i(),r("div",null,[n.value?(i(),r("div",C,[l("p",null,"👤 "+f((p=s.value)==null?void 0:p.display_name)+" 已登入",1),l("label",null,[e[2]||(e[2]=m(" 🎯 觀察對象帳號 (user id)：")),e[3]||(e[3]=l("br",null,null,-1)),k(l("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.value=c),placeholder:"想追蹤的 user name"},null,512),[[U,t.value]])]),e[6]||(e[6]=l("br",null,null,-1)),l("label",null,[e[4]||(e[4]=m(" 🛰️ 頻道名稱：")),e[5]||(e[5]=l("br",null,null,-1)),k(l("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>o.value=c),placeholder:"頻道名 (預設自己)"},null,512),[[U,o.value]])]),l("button",{onClick:y},"📋 複製 OBS URL"),d.value?(i(),r("p",N,"✅ URL："+f(d.value),1)):V("",!0),x(L,{targetUser:t.value,channel:o.value||((g=s.value)==null?void 0:g.login)},null,8,["targetUser","channel"])])):(i(),r("div",B,[l("button",{onClick:b},"使用 Twitch 登入")]))])}}}),R=(v,n)=>{const s=v.__vccOpts||v;for(const[t,o]of n)s[t]=o;return s},M=R(I,[["__scopeId","data-v-058a1c81"]]);export{M as default};
