import{d as S,r as a,o as V,b as p,e,f as N,g as $,t as f,h as d,w as m,v as y,a as v}from"./index-DiNGAepb.js";import{g as T,f as x,_ as B,l as C}from"./twitch-Biue_3Q4.js";const L={key:0},R={key:1},D={key:0},F=S({__name:"LoginView",setup(M){const u=a(null),n=a(null),o=a(""),s=a(""),g=a(""),i=a(50);V(async()=>{const t=new URLSearchParams(location.search);u.value=t.get("token")||T(),i.value=Number.isNaN(parseInt(t.get("typingSpeed")||""))?50:parseInt(t.get("typingSpeed")||""),u.value&&(n.value=await x(u.value)),o.value=t.get("user")||(n==null?void 0:n.value.display_name)||"",s.value=t.get("channel")||(n==null?void 0:n.value.login)||""});function k(){C()}function w(){const t=`https://test-twitch-npc-dialog-displayer.lindebot.com/display?token=${u.value}&user=${o.value}&channel=${s.value}&typingSpeed=${i.value}`;navigator.clipboard.writeText(t),g.value=t}return(t,l)=>{var b,U;return v(),p("div",null,[u.value?(v(),p("div",R,[e("p",null,"👤 "+f((b=n.value)==null?void 0:b.display_name)+" 已登入",1),e("label",null,[l[3]||(l[3]=d(" 🎯 觀察對象名稱 (聊天室暱稱)：")),l[4]||(l[4]=e("br",null,null,-1)),m(e("input",{"onUpdate:modelValue":l[0]||(l[0]=r=>o.value=r),placeholder:"想追蹤的 user name"},null,512),[[y,o.value]])]),l[10]||(l[10]=e("br",null,null,-1)),e("label",null,[l[5]||(l[5]=d(" 🛰️ 頻道名稱：")),l[6]||(l[6]=e("br",null,null,-1)),m(e("input",{"onUpdate:modelValue":l[1]||(l[1]=r=>s.value=r),placeholder:"頻道名 (預設自己)"},null,512),[[y,s.value]])]),l[11]||(l[11]=e("br",null,null,-1)),e("label",null,[l[7]||(l[7]=d(" 語言速度(幾毫秒跑一個字)：")),l[8]||(l[8]=e("br",null,null,-1)),m(e("input",{"onUpdate:modelValue":l[2]||(l[2]=r=>i.value=r),placeholder:"預設50毫秒"},null,512),[[y,i.value]]),l[9]||(l[9]=d("毫秒 "))]),l[12]||(l[12]=e("br",null,null,-1)),e("button",{onClick:w},"📋 複製 OBS URL"),g.value?(v(),p("p",D,"✅ URL："+f(g.value),1)):N("",!0),$(B,{targetUser:o.value,channel:s.value||((U=n.value)==null?void 0:U.login),typingSpeed:i.value},null,8,["targetUser","channel","typingSpeed"])])):(v(),p("div",L,[e("button",{onClick:k},"使用 Twitch 登入")]))])}}});export{F as default};
