import{d as w,r as o,o as V,b as v,e,f as x,g as $,t as U,h as a,w as g,v as m,a as b}from"./index-Cs5tOdkp.js";import{g as z,f as T,_ as B,l as C}from"./twitch-CDY1RSH0.js";const L={key:0},R={key:1},D={key:0},E=w({__name:"LoginView",setup(I){const i=o(null),t=o(null),s=o(""),r=o(""),f=o(""),p=o(50),d=o(12);V(async()=>{const n=new URLSearchParams(location.search);i.value=n.get("token")||z(),p.value=Number.isNaN(parseInt(n.get("typingSpeed")||""))?50:parseInt(n.get("typingSpeed")||""),d.value=Number.isNaN(parseInt(n.get("fontSize")||""))?12:parseInt(n.get("fontSize")||""),i.value&&(t.value=await T(i.value)),s.value=n.get("user")||(t==null?void 0:t.value.display_name)||"",r.value=n.get("channel")||(t==null?void 0:t.value.login)||""});function k(){C()}function N(){const n=`https://test-twitch-npc-dialog-displayer.lindebot.com/display?token=${i.value}&user=${s.value}&channel=${r.value}&typingSpeed=${p.value}&fontSize=${d.value}`;navigator.clipboard.writeText(n),f.value=n}return(n,l)=>{var y,S;return b(),v("div",null,[i.value?(b(),v("div",R,[e("p",null,"👤 "+U((y=t.value)==null?void 0:y.display_name)+" 已登入",1),e("label",null,[l[4]||(l[4]=a(" 🎯 觀察對象名稱 (聊天室暱稱)：")),l[5]||(l[5]=e("br",null,null,-1)),g(e("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>s.value=u),placeholder:"想追蹤的 user name"},null,512),[[m,s.value]])]),l[14]||(l[14]=e("br",null,null,-1)),e("label",null,[l[6]||(l[6]=a(" 🛰️ 頻道名稱：")),l[7]||(l[7]=e("br",null,null,-1)),g(e("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>r.value=u),placeholder:"頻道名 (預設自己)"},null,512),[[m,r.value]])]),l[15]||(l[15]=e("br",null,null,-1)),e("label",null,[l[8]||(l[8]=a(" 語言速度(幾毫秒跑一個字)：")),l[9]||(l[9]=e("br",null,null,-1)),g(e("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>p.value=u),placeholder:"預設50毫秒"},null,512),[[m,p.value]]),l[10]||(l[10]=a("毫秒 "))]),l[16]||(l[16]=e("br",null,null,-1)),e("label",null,[l[11]||(l[11]=a(" 字體大小(px)：")),l[12]||(l[12]=e("br",null,null,-1)),g(e("input",{"onUpdate:modelValue":l[3]||(l[3]=u=>d.value=u),placeholder:"預設12px"},null,512),[[m,d.value]]),l[13]||(l[13]=a("px "))]),l[17]||(l[17]=e("br",null,null,-1)),e("button",{onClick:N},"📋 複製 OBS URL"),f.value?(b(),v("p",D,"✅ URL："+U(f.value),1)):x("",!0),$(B,{targetUser:s.value,channel:r.value||((S=t.value)==null?void 0:S.login),typingSpeed:p.value,fontSize:d.value},null,8,["targetUser","channel","typingSpeed","fontSize"])])):(b(),v("div",L,[e("button",{onClick:k},"使用 Twitch 登入")]))])}}});export{E as default};
